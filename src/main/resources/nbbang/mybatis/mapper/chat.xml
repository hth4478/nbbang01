<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="nbbang.mybatis.mapper.chat">
	<select id="getMyChat" parameterType="String" resultType="chat">
		SELECT * FROM chat WHERE chatpartnerid = #{email} or email = #{email}
	</select>
	<select id="getNickName" parameterType="String" resultType="String">
		SELECT nickname FROM member WHERE email = #{chatpartnerid}
	</select>
	<select id="getPartyBbs" parameterType="String" resultType="partyBbsDTO">
		SELECT p.*, m.nickname FROM partybbs p JOIN member m ON p.email = m.email WHERE partyno = #{partyNo}
	</select>
</mapper>